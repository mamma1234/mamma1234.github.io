---
layout: post
title: "PHP"
description: 
headline: 
modified: 2022-03-07
category: webdevelopment
imagefeature: cover3.jpg
tags: [PHP]
mathjax: 
chart: 
share: true
comments: true
featured: true
disqus:
---

# Record

## 목차
- [변수](#변수)
- [상수](#상수)
- [타입](#타입)
- [연산자](#연산자)
- [제어문](#제어문)
- [배열](#배열)


## 개념
- 

## 동작원리
 - php파일의 확장자는 .php
 - 클라이언트가 브라우저를 통해 서버에게 php파일을 요청한다. 그러면 웹서버는 php파일을 뱉어낸다.
 - 이 때, 클라이언트는 php소스는 볼 수 없고, php파일은 html파일로 변환되어 브라우저에서 보여진다.
 - 웹 서버는 웹 페이지의 요청을 받아들여 php스크립트를 구동하고 html을 반환한다.



## 변수
 - PHP에서는 달러($) 기호를 사용하여 다음과 같이 변수를 선언합니다.
 - gettype() 함수는 인수로 전달받은 데이터의 타입을 출력하는 함수입니다.
 - 기본값으로 자동 초기화됩니다
 - 지역변수, 전역변수, 정적변수
    - 함수 밖에서 선언된 변수를 함수 내부에서 접근하고자 할 때는 global 키워드를 함께 사용해야 합니다.
```JavaScript
        global $var; // 함수 내에서 사용할 전역 변수를 명시함
```
    - PHP는 모든 전역 변수를 $GLOBALS 배열에 저장합니다.
```JavaScript    
        echo "함수 내부에서 호출한 전역 변수 var의 값은 {$var}입니다.<br>";
        echo "함수 내부에서 호출한 전역 변수 var의 값은 {$GLOBALS['var']}입니다.<br>";
```
    - PHP 슈퍼 글로벌 
        1. $GLOBALS
        2. $_SERVER
        3. $_GET
        4. $_POST
        5. $_FILES
        6. $_COOKIE
        7. $_SESSION
        8. $_REQUEST
        9. $_ENV

## 상수
```JavaScript
    define("PHP", "PHP 수업에 잘 오셨습니다!<br>"); // 대소문자를 구분함.(기본 설정)
    define("PHP", "<br>PHP 수업에 잘 오셨습니다!", true); // 대소문자를 구분하지 않음.
```

 - 마법상수
```JavaScript
__LINE__ 파일의 현재 줄 번호를 반환함.
__FILE__ 파일의 전체 경로와 이름을 반환함. include 내부에서 사용할 경우 include된 파일명을 반환함.
__DIR__	파일의 디렉터리를 반환함. 포함한 파일 안에서 사용할 경우 포함된 파일의 디렉터리를 반환함. dirname(__FILE__)과 같은 결과를 반환함.
__FUNCTION__ 함수의 이름을 반환함.
__CLASS__ 클래스의 이름을 반환함. 클래스 이름은 대소문자를 구분함.
__TRAIT__ 트레이트(trait)의 이름을 반환함. 트레이트의 이름은 트레이트를 선언한 네임스페이스를 포함함.
__METHOD__ 클래스의 메소드 이름을 반환함.
__NAMESPACE__ 현재 네임스페이스의 이름을 반환함.
```

## 타입
### 기본타입
 - 1. 불리언(boolean)
 - 2. 정수(integer)
 - 3. 실수(float)
 - 4. 문자열(string)
 - 5. 배열(array)
 - 6. 객체(object)
 - 7. 리소스(resource)
 - 8. NULL
    - NULL은 오직 한 가지 값(NULL 상수)만을 가질 수 있는 특별한 타입입니다.
    - NULL 타입의 변수란 아직 어떠한 값도 대입되지 않은 변수를 의미합니다.

### 타입변환
- 자동 타입 변환
- 강제 타입 변환
- 가변 변수
```JavaScript
echo $PHP;       // HTML
echo $$PHP;      // $HTML -> CSS
echo $$$PHP;     // $$HTML -> $CSS -> JavaScript
```


## 연산자
### 산술 연산자
### 대입 연산자
### 증감 연산자
### 비교 연산자
### 논리 연산자
### 비트 연산자
### 기타 연산자
    - 문자열 연산자(string operator)
        - PHP에서 문자열 연산자(.)를 사용하여 문자열을 연결할 수 있습니다.
        - 또한, echo() 함수에서는 쉼표 연산자(,)를 이용하여 문자열을 연결할 수 있습니다.
    - 배열 합집합 연산자(array union operator)
        - 배열 합집합 연산자(+)는 피연산자로 오는 두 배열의 합집합을 반환합니다.
    - instanceof 연산자
        - 1. 해당 변수가 어떤 클래스(class)에서 생성된 객체(object)인지를 확인할 때
        - 2. 해당 변수가 부모 클래스(parent class)에서 상속받은 클래스인지를 확인할 때
        - 3. 해당 변수가 클래스의 인스턴스(instance)인지 아닌지를 확인할 때
        - 4. 해당 변수가 인터페이스(interface)로 구현한 클래스의 객체 인스턴스(object instance)인지 아닌지를 확인할 때

## 제어문
### 조건문
### 반복문
```JavaScript
$arr = array(2, 4, 6, 8);
foreach ($arr as $value) {
    echo "변수 \$value의 현재값은 {$value}입니다.<br>";
}
unset($value);

* 위의 예제에서 변수 $value는 foreach 문 내에서만 사용하는 변수입니다.
따라서 foreach 문이 끝난 뒤에는 unset() 함수를 사용하여 해제해 주는 것이 좋습니다.

$arr = array(
    "둘" => 2,
    "넷" => 4,
    "여섯" => 6,
    "여덟" => 8,
);
foreach ($arr as $key => $value) {
    echo "배열 \$arr에서 키값 '{$key}'에 대한 값은 {$value}입니다.<br>";
}
unset($value);
```

### 기타 제어문
 - continue
    * switch 문에도 continue를 사용할 수 있어, switch 문을 반복문처럼 사용할 수 있습니다.
 - break
 - goto
    *  현재는 거의 사용하지 않습니다.
 - 제어문의 대체 문법
    - 대체 문법의 사용 방법은 우선 제어문의 여는 괄호({)를 콜론(:)으로 대체합니다. 그리고 닫는 괄호(})를 각각 endif;, endswitch;, endwhile;, endfor;, endforeach;로 대체하면 됩니다.
```JavaScript
    <?php $var = 5; ?>
    <?php if ($var > 6): ?>
    변수의 값은 6보다 큽니다.   <!-- 이 부분은 HTML 구문임 -->
    <?php elseif ($var == 6): ?>
    변수의 값은 6입니다.        <!-- 이 부분은 HTML 구문임 -->
    <?php elseif ($var < 6): ?>
    변수의 값은 6보다 작습니다. <!-- 이 부분은 HTML 구문임 -->
    <?php endif; ?>
```

## 배열
### 배열 요소의 추가
- 배열 요소의 인덱스를 생략할 수 있는데, 이 경우에는 인덱스가 0부터 시작하여 1씩 증가하며 순서대로 저장됩니다.
```JavaScript
$arr[] = "apple";  // 배열 인덱스를 생략하여, 순서대로 배열에 추가됨.
$arr[] = "banana";
$arr[] = "orange";
```

### 배열의 홀(hole)
- PHP에서는 배열의 특정 인덱스에만 배열 요소를 추가할 수 있습니다.
```JavaScript
$arr = array();            // 배열의 생성
$arr[10] = "banana";       // 인덱스 10에만 배열 요소를 추가함.

var_dump($arr);
var_dump($arr[0]);         // NULL
var_dump(isset($arr[0]));  // false
var_dump(isset($arr[10])); // true
```
* isset() 함수는 인수로 전달받은 변수가 초기화되어 있는지를 확인해 줍니다.

### 루프를 이용한 배열로의 접근
- count() 함수는 배열의 모든 요소의 개수를 반환하는 함수입니다.
- count() 함수는 배열 요소의 개수를 계산할 때 배열의 홀(hole)을 포함하지 않습니다.
    홀을 가지는 배열에서는 정확한 배열의 길이를 구할 수 없습니다.
    하지만 foreach 문을 사용하면 예제와 같이 홀이 아닌 배열 요소에만 정확히 접근할 수 있습니다.

### 연관 배열(associative array)
- PHP에서는 숫자뿐만 아니라 문자열도 배열 요소의 인덱스로 사용할 수 있습니다.
```JavaScript
$array = array();        // 배열 생성
$array["apple"] = 1000;  // 연관 배열 요소 추가
$array["banana"] = 2000; 
$array["orange"] = 1500;

$array = array("apple" => 1000, "banana" => 2000, "orange" => 1500);
```

- 만약 해당 배열이 존재하지 않으면, 해당 이름으로 새로운 배열을 만든 후에 배열 요소를 추가합니다.
```JavaScript
$array["apple"] = 1000;  // 배열이 존재하지 않으므로, 먼저 배열을 생성한 후에 요소가 추가됨.
$array["banana"] = 2000;
$array["orange"] = 1500;
echo $array["apple"].", ".$array["banana"].", ".$array["orange"];
```

- each() 함수는 배열 커서(array cursor)가 현재 가리키고 있는 배열 요소를 반환하고, 다음 배열 요소를 가리키도록 합니다. 이 함수는 가리키는 요소의 다음 요소가 배열의 마지막 요소라면 더는 동작하지 않습니다.
```JavaScript
$array = array("apple" => 1000, "banana" => 2000, "orange" => 1500);

while($element = each($array)) {
    echo $element['key']." ".$element['value']."<br>";
}
```