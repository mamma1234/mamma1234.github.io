---
layout: post
title: "Docker"
description: 
headline: 
modified: 2020-02-10
category: webdevelopment
imagefeature: cover3.jpg
tags: [Docker]
mathjax: 
chart: 
share: true
comments: true
featured: true
disqus:
---


# Docker


## Introduction
-  가장 짧게 요약을 하자면 가상의 환경에서 미리 정해져있는 필요한 프로그램들의 리스트를 통째로 설치하고 실행한 뒤 가상의 환경을 종료시킴으로써 내 컴퓨터는 깔끔하게 아무 영향을 받지 않도록 해주는 녀석입니다.

## Concept
- Image, Docker engine, Container
- docker engine는 image를 통해 container라는 실행 객체를 생성하고 실행

## 구성요소
- Docker Client : 도커를 구성하고 운영 관리하는 패키지로 주로 관리자가 가장 많이 사용한다. docker cli 가 여기에 해당
- Docker Server : 도커를 실행하는 데몬이 동작하는 서버
    - 내부에는 이미지를 담아둘수 있는 볼륨이 필요하고, 해당 이미지는 내부 또는 외부의 repository 사용
    - 서버는 운영체제가 동작하고, 운영체제에서는 컨테이너 서비스를 제공하고 있어야 한다.
    - 도커 데몬이 동작해야 한다.
- 이미지 : 이미지는 로컬 또는 Docker Hb등과 같은 퍼블릭 Repository를 사용할수 있다.


## CentOS 설치
- yum-config-manager 유틸리티를 제공하는 yum-utils를 설치하십시오
    - yum install -y yum-utils
- 안정적인 저장소를 설정
    - yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
- docker-ce를 설치
    - yum install -y docker-ce repo

- 옵션 :  에지 저장소 (최신버전)으로 설정(활성화/비활성화)
    - sudo yum-config-manager --enable docker-ce-edge
    - sudo yum-config-manager --enable docker-ce-testing
    - sudo yum-config-manager --disable docker-ce-edge

- 옵션 : docker-ce 특정 버전 설치
    - yum install docker-ce-17.03.0.ce 

- systemctl 을 통해 서비스 구동 및 등록
    - sudo systemctl start docker 
    - sudo systemctl enable docker 
- 이미지 시작
    - docker run hello-world
    - 이미지가 없으면 Repo에서 Pull하고 실행까지 수행

## 도커 이미지와 컨테이너 삭제 방법
docker ps : 동작중인 컨테이너 확인
docker ps -a : 정지된 컨테이너 확인
dockeer rm [컨테이너id] : 컨테이너 삭제
docker images : 현재 이미지 확인
docker rmi [이미지id] : 이미지 삭제
docker rmi -f [이미지id] : 컨테이너, 이미지 동시 강제삭제


## 도커 명령어
docker --version