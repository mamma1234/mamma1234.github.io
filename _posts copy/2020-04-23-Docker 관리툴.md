---
layout: post
title: "Docker 관리툴"
description: 
headline: 
modified: 2020-04-23
category: webdevelopment
imagefeature: cover3.jpg
tags: [Docker 관리툴]
mathjax: 
chart: 
share: true
comments: true
featured: true
disqus:
---


# Docker

## 다이브
도커 이미지는 마치 샌드위치 같다. 많은 레이어가 층층이 쌓여 있다. 불투명한 '포장지에 싸인' 샌드위치가 더 정확할 수도 있다. 즉 얼마나 많은 레이어가 있는지 알 수 없거나 포장지 내부에 들어있는 것이 무엇인지 알 수 없는 경우가 있다.

이때 다이브(Dive)를 이용하면 대화식 UI를 통해 도커 이미지 속 레이어를 가시적으로 확인할 수 있다. 각 레이어에 있는 구성요소를 보고, 각 레이어가 어떻게 추가 삭제됐는지도 알 수 있다. 또한 이미지의 사용된 공간과 중복된 공간도 분석할 수 있다. 심지어 CI(continuous integration) 파이프라인에 분석 결과를 넘겨 사용된 공간이 너무 많은 이미지를 빌드 프로세스에서 걸러내는 것도 가능하다.

## 도커 컴포즈 UI
도커 컴포즈 UI(Docker Compose UI)는 도커 컴포즈에 웹 기반 UI를 추가한 MIT 라이선스 프로젝트다. 파이썬의 플라스크(Flask) 프레임워크를 이용해 개발했다. 컨테이너는 로컬 혹은 원격 호스트에서 실행할 수 있다. 도커 컴포즈 UI 자체는 도커 컨테이너 내에서 편리하게 사용할 수 있다. 단, 도커 컴포즈 UI를 지원하는 일부 데모 프로젝트는 배포 포트 충돌 문제 때문에 확장에 제한이 있을 수 있다.

## 도클리
도커 작업 대부분은 CLI나 터미널 인터페이스로 처리하는데, 이 기본 도커 CLI는 다른 CLI 프로그램과 크게 다를 바 없이 불편하다. 이때는 도클리(Dockly)가 해법이다. 도커용 풀스크린 터미널 인터페이스를 제공한다. 실행중인 모든 컨테이너에 대한 텍스트 모드 대시보드를 제공하고 컨테이너 로그와 사용 현황을 실시간으로 볼 수 있다. 내장 쉘 탭도 지원한다.

## 더스티
더스티(Dusty)는 도커 기반의 MIT 라이선스 개발 환경이다. 더스티 개발팀은 컨테이너 관리 툴인 도커 컴포즈 또는 베이그란트(Vagrant)의 사용성을 개선하는 툴이라고 설명했다. 예를 들어 더스티는 도커 컴포저보다 더 단순한 스펙 모델을 가지고 있어서, 베이그란트보다 버전 기반 앱 종속성 격리 이슈를 다루거나 서비스를 업데이트하는 데 유리하다. 또한 더스티를 이용하면 개별 환경에 맞는 스펙의 일부로 테스트를 구성해 일반적인 다단계 절차 중 하나로 만들 수 있다. 그러면 이를 쉽게 스크립트로 넣을 수 있다.

## 엘시
엘시(Elsy)는 도커와 도커 컴포즈를 이용한 멀티 랭기지 빌드 툴이다. 어떤 언어를 사용하든 상관없이 개발 환경 전반에 걸쳐 일관된 소프트웨어 리포지토리를 만들고 빌드 작업을 최소화한다. 개발팀이 특히 강조하는 기능은 블랙박스 테스트다. 이미 만든 모든 컨테이너를 실제 운영 환경에서 작동하는 방식으로 테스트할 수 있다. 예를 들어 데이터베이스가 필요한 서비스라면 이를 위한 데이터베이스 컨테이너를 준비해 테스트한 후 테스트가 끝나면 자동으로 삭제한다.

## 고커라이즈
고(Go) 언어 애호가를 위한 툴이다. 고커라이즈(Gockerize)는 정적인 고 바이너리를 만들어 소형 고 컨테이너로 패키지하는 BSD 라이선스 툴이다. 에어로FS(AeroFS) 개발팀의 또 다른 작품으로, 이를 이용하면 패치 여러 개를 고 표준 라이브러리에 자동으로 적용할 수 있다. 프로젝트 소개글에 따르면, 이렇게 쓰는 경우가 흔치는 않다. 그러나 정말 필요한 상황에서는 구세주 같은 역할을 한다. 고커라이즈를 사용하는 환경도 단출하다. 고와 도커 1.5 이상, 배시(Bash) 쉘만 있으면 된다.
 
## 헤비터스
헤비터스(Habitus) 역시 도커 기반 빌드 툴이다. 이 툴은 도커 파일과 build.yml 파일을 이용해 임의의 명령 다수를 포함한 다단계 컨테이너 빌드를 만든다. 이 빌드 속 각 단계는 일부 이전 단계에 종속되도록 만들 수 있어, 복잡한 다단계 종속 작업을 정확하게 실행할 수 있다. 또한 헤비터스를 이용하면 이미지 내에 흔적을 남기지 않고 시크릿(secret)을 추가할 수도 있다.

## 하이퍼
하이퍼(Hyper)는 하이퍼바이저 중립적인 툴로 불린다. 어떤 하이퍼바이저 상의 도커 이미지도 실행할 수 있다. 이를 위해 파이퍼는 도커와 QEMU, 젠(Xen)을 사용한다. 이 툴의 개발자는 하이퍼가 최소한의 리소스(28MB)를 사용하며 VM보다는 컨테이너에 가까운 속도로 빠르게 실행된다고 설명했다. 이밖에도 고성능을 지원하고 애플리케이션에 대한 하드웨어 차원의 강제 격리를 제공한다. 멀티 테넌트, 도커 기반 애플리케이션을 만들고 있다면 하이퍼가 안성맞춤이다.

## 카이트메틱
가끔 GUI가 필요할 때가 있다. 카이트메틱(Kitematic)은 맥OS와 우분투 리눅스, 윈도우 등에서 쓸 수 있는 도커 컨테이너 관리용 GUI 툴이다. 이밖에도 파일 시스템을 통해 자동으로 컨테이너 볼륨 데이터를 보여주고, 내장 CLI를 제공한다. 또한 새 컨테이너 이미지를 추가하는 등 현재 상태가 변하면 도커와 동기화된다.

## 로그스파우트
유닉스 세계에는 큰 문제를 풀기 위해 작은 프로그램을 통합하는 오랜 전통이 있다. 로그스파우트(Logspout)에도 도커 컨테이너의 로그를 관리하는 데 마찬가지 철학이 담겨 있다. 로그스파우트
는 설정한 호스트의 모든 컨테이너에서 로그(주로 stdout(Standard Output), stderr(Standard Error))를 가져온다. 이 결과 취합된 로그는 HTTP 스트림을 읽어 실시간으로 간편하게 확인할 수 있다. 

## 포테이너
도커 스택은 상대적으로 단순해 컨테이너와 이미지, 네트워크, 볼륨, 시크릿 등 유연한 부분을 많이 가지고 있다. 이 모든 것을 머릿속에 기억하는 것은 불가능하므로, 이때 포테이너(Portainer)를 이용하면 된다. 싱글 호스트이든, 클러스터이든 상관없이 도커 환경에 대한 웹 UI를 제공해 현재 실행중인 모든 것에 대한 단일 뷰를 볼 수 있다. 클릭 몇 번으로 모든 일반 도커 컴포넌트를 관리하고 한눈에 볼 수 있다. 무엇보다 훌륭한 것은 기존 도커 인프라에서 단일 컨테이너로 적용할 수 있다는 점이다.

## 웨일브루
맥OS 사용자라면 맥용 에드훅 패키지 관리 시스템 '홈브루(Homebrew)'에 익숙할 것이다. 웨일브루(Whalebrew)를 이용하면 도커 이미지를 설치한 후 커맨드 라인에서 직접 실행할 수 있다(단, 로컬로 실행할 수 있도록 설치해야 한다). 패키지를 설치하려면 whalebrew install <package_name>라고 입력하면 된다. 웨일브루의 리포지토리에서 가장 잘 작동하지만, 설계상으로는 CLI 커맨드를 실행할 수 있는 도커 이미지에서도 작동한다. ciokr@idg.co.kr

